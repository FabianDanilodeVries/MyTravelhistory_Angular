<app-header></app-header>
<div id="wrapper">
  <div id="overview-wrapper">
    <div class="card" id="restaurants">
      <div class="card-header">Restaurants</div>
      <ul class="list-group list-group-flush" *ngFor="let restaurant of restaurants | filter:term">
        <li class="list-group-item">{{restaurant.restaurantName}} - {{restaurant.country}}<button type="button" data-toggle="collapse" [attr.data-target]="'#Restaurant' + restaurant.restId" id="ColBut">+</button></li>
        <div [attr.id]="'Restaurant' + restaurant.restId" class="collapse">
            <p><b>Type:</b> {{restaurant.restaurantType}}</p>
            <p><b>Number of Tables:</b> {{restaurant.numberOfTables}}</p>
            <p><b>Vegetarian Options:</b> {{restaurant.vegetarianOptions}}</p>
          <p><b>Average Rating (#):</b> {{restaurant.restaurantAverageRating}} (#{{restaurant.ratingCount}})</p>
          <p><b>Address:</b> {{restaurant.country}}, {{restaurant.restaurantAddress}}</p>
          <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#exampleModal" (click)="saveCurrentRestaurant(restaurant)" id="addRes">Select Restaurant</button>
        </div>
      </ul>
    </div>

    <div id="searchrestaurant" class="card">
      <div class="card-header"> Search Restaurants</div>
      <div class="card-body">
        <input type="text" class="form-control" id="restaurantName" aria-describedby="addRestaurant" placeholder="Search here" [(ngModel)]="term">
      </div>
    </div>

    <!-- Modal -->
    <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLabel">Add Restaurant</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            <form>
              <div class="form-group" id="formRestaurant">

                <div id="static-model-items">
                  <div class="form-group">
                    <label for="restaurantName">Name: </label>
                    <input type="text" class="form-control" id="restaurant-name" aria-describedby="addRestaurant" value={{currentRestaurant.restaurantName}} disabled>
                  </div>
                  <div class="form-group">
                    <label for="restaurantAddress">Address: </label>
                    <input type="text" class="form-control" id="restaurantAddress" value={{currentRestaurant.restaurantAddress}} disabled>
                  </div>
                  <div class="form-group">
                    <label for="restaurantType">Country: </label>
                    <input type="text" class="form-control" id="restaurantCountry" value={{currentRestaurant.country}} disabled>
                  </div>
                   <div class="form-group">
                    <label for="restaurantType">Type of restaurant: </label>
                    <input type="text" class="form-control" id="restaurantType" value={{currentRestaurant.restaurantAddress}} disabled>
                  </div>
                  <div class="form-group">
                    <label for="restaurantRating">Average Rating: </label>
                    <input type="text" class="form-control" id="restaurantRating" value={{currentRestaurant.restaurantAverageRating}} disabled>
                  </div>
                  <label for="form-check">Vegetarian Options:</label> <br>
                  <div class="form-check form-check-inline">
                    <input class="form-check-input" type="radio" name="vegOptions" id="vegOptionsY" value="yes" checked = "checked" disabled>
                    <label class="form-check-label" for="vegOptions">Yes</label>
                  </div>
                  <div class="form-check form-check-inline">
                    <input class="form-check-input" type="radio" name="vegOptions" id="vegOptionsBN" value="no" disabled>
                    <label class="form-check-label" for="vegOptions">No</label>
                  </div>
                </div>
                <div id="input-model-items">
                    <div class="form-group">
                      <label for="restaurantRating">Date of visit: </label>
                      <input type="date" class="form-control" id="yourDate" [(ngModel)]="currentYourDate" name="some3" placeholder="YYYY-MM-DD">
                    </div>
                    <div class="form-group">
                      <label for="restaurantRating">Your rating: </label>
                      <input type="text" class="form-control" id="yourRating" [(ngModel)]="currentYourRating" name="some2" placeholder="1-10">
                    </div>
                    <div class="form-group">
                      <label for="restaurantRating">Your comments: </label>
                      <input type="text" class="form-control" id="yourComments" [(ngModel)]="currentYourComment" name="some1">
                    </div>
                  </div>
                </div>
              </form>
          </div>
          <div class="modal-footer">
            <button type="button" id="closeRest" class="btn btn-secondary" data-dismiss="modal">Close</button>
            <button type="button" id="saveRest" class="btn btn-primary" (click)="saveNewRestaurantVisit(currentYourComment,currentYourRating,currentYourDate)" data-dismiss="modal">Save visit</button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>


<app-footer></app-footer>
